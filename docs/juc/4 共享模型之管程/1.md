# 1. 共享问题

## 临界区

- 一段代码块内存在对**共享资源**的多线程的读写操作，这段**代码块**即**临界区**。

## 竞态条件Race Condition

- 多个线程在临界区内执行，由于代码执行序列不同导致结果无法预测，则称发生了竞态条件。（如多个线程对i进行i++）。

## 避免临界区竞态条件

- 阻塞式方案：synchronized，Lock
- 非阻塞式方案：原子变量

## 互斥与同步

- 互斥：保证临界区的竞态条件发生，同一时刻只有一个线程执行临界区代码；
  - ：使用 synchronized 或 Lock 达到共享资源互斥效果。
- 同步：由于线程执行的先后顺序不同，需要一个线程等待其他线程运行到某个点；
  - 使用 wait/notify 或 Lock 的条件变量来达到线程间通信效果。
- 都可通过synchronized完成。