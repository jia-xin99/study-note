<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.60" />
    <meta name="theme" content="VuePress Theme Hope" />
    <title>1. MySQL基础篇 | 学习笔记</title><meta name="description" content="这是我的第一个 VuePress 站点">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/study-note/assets/style-48e4b212.css" as="style"><link rel="stylesheet" href="/study-note/assets/style-48e4b212.css">
    <link rel="modulepreload" href="/study-note/assets/app-eaeaeacb.js"><link rel="modulepreload" href="/study-note/assets/framework-b9c3f338.js"><link rel="modulepreload" href="/study-note/assets/1.html-6d1dc703.js"><link rel="modulepreload" href="/study-note/assets/1.html-ac35b451.js"><link rel="prefetch" href="/study-note/assets/index.html-42f94f6d.js" as="script"><link rel="prefetch" href="/study-note/assets/1.html-3832f603.js" as="script"><link rel="prefetch" href="/study-note/assets/1.html-63d04793.js" as="script"><link rel="prefetch" href="/study-note/assets/2.html-15701a94.js" as="script"><link rel="prefetch" href="/study-note/assets/3.html-3767d6ac.js" as="script"><link rel="prefetch" href="/study-note/assets/4.html-87e45091.js" as="script"><link rel="prefetch" href="/study-note/assets/5.html-cddd3aef.js" as="script"><link rel="prefetch" href="/study-note/assets/6.html-bb238a0a.js" as="script"><link rel="prefetch" href="/study-note/assets/7.html-1f55058e.js" as="script"><link rel="prefetch" href="/study-note/assets/8.html-bcbca457.js" as="script"><link rel="prefetch" href="/study-note/assets/9.html-83ef67c5.js" as="script"><link rel="prefetch" href="/study-note/assets/2.html-39638b2d.js" as="script"><link rel="prefetch" href="/study-note/assets/3.html-82b7ada7.js" as="script"><link rel="prefetch" href="/study-note/assets/1.html-d3c6f10a.js" as="script"><link rel="prefetch" href="/study-note/assets/2.html-c6cf2a7e.js" as="script"><link rel="prefetch" href="/study-note/assets/1.html-2e59c56c.js" as="script"><link rel="prefetch" href="/study-note/assets/2.html-f9dc3acc.js" as="script"><link rel="prefetch" href="/study-note/assets/1.html-6a045114.js" as="script"><link rel="prefetch" href="/study-note/assets/1.html-7b6fd2af.js" as="script"><link rel="prefetch" href="/study-note/assets/2.html-03328905.js" as="script"><link rel="prefetch" href="/study-note/assets/3.html-e1a82074.js" as="script"><link rel="prefetch" href="/study-note/assets/1.html-5253a02f.js" as="script"><link rel="prefetch" href="/study-note/assets/2.html-beaa15d2.js" as="script"><link rel="prefetch" href="/study-note/assets/3.html-8cb4152a.js" as="script"><link rel="prefetch" href="/study-note/assets/4.html-7a98da27.js" as="script"><link rel="prefetch" href="/study-note/assets/1.html-4f7185a0.js" as="script"><link rel="prefetch" href="/study-note/assets/10.html-b7f19d17.js" as="script"><link rel="prefetch" href="/study-note/assets/11.html-a0f85b02.js" as="script"><link rel="prefetch" href="/study-note/assets/12.html-0785ed62.js" as="script"><link rel="prefetch" href="/study-note/assets/2.html-9fcf3a0c.js" as="script"><link rel="prefetch" href="/study-note/assets/3.html-b5f584bd.js" as="script"><link rel="prefetch" href="/study-note/assets/4.html-f4d6ffb0.js" as="script"><link rel="prefetch" href="/study-note/assets/5.html-0b1feb60.js" as="script"><link rel="prefetch" href="/study-note/assets/6.html-987bc44d.js" as="script"><link rel="prefetch" href="/study-note/assets/7.html-d646102d.js" as="script"><link rel="prefetch" href="/study-note/assets/8.html-0708369d.js" as="script"><link rel="prefetch" href="/study-note/assets/9.html-b0ace20f.js" as="script"><link rel="prefetch" href="/study-note/assets/1.html-25fd3a0f.js" as="script"><link rel="prefetch" href="/study-note/assets/2.html-1d9e64ca.js" as="script"><link rel="prefetch" href="/study-note/assets/3.html-be427b4a.js" as="script"><link rel="prefetch" href="/study-note/assets/1.html-52020427.js" as="script"><link rel="prefetch" href="/study-note/assets/2.html-8c8f712e.js" as="script"><link rel="prefetch" href="/study-note/assets/3.html-d96d607c.js" as="script"><link rel="prefetch" href="/study-note/assets/4.html-af2c2f06.js" as="script"><link rel="prefetch" href="/study-note/assets/5.html-afa94031.js" as="script"><link rel="prefetch" href="/study-note/assets/1.html-ac9aae8a.js" as="script"><link rel="prefetch" href="/study-note/assets/2.html-ad6313f3.js" as="script"><link rel="prefetch" href="/study-note/assets/3.html-c1fa1774.js" as="script"><link rel="prefetch" href="/study-note/assets/4.html-a0bfaabe.js" as="script"><link rel="prefetch" href="/study-note/assets/5.html-157877b6.js" as="script"><link rel="prefetch" href="/study-note/assets/6.html-baa06322.js" as="script"><link rel="prefetch" href="/study-note/assets/1.html-bfa9e95b.js" as="script"><link rel="prefetch" href="/study-note/assets/2.html-b22d605c.js" as="script"><link rel="prefetch" href="/study-note/assets/404.html-81a48005.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-e6c3dbfe.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-21a3d5da.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-e342b900.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-6c763e54.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-8dd2cd31.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-1135ee22.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-b2b1aa36.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-5df652ef.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-f2d0c676.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-617fca45.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-c91593d0.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-95385121.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-473ad7d5.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-29d888aa.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-83a8c898.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-fc87ba78.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-035ca313.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-7d3cfd34.js" as="script"><link rel="prefetch" href="/study-note/assets/1.html-95c0636a.js" as="script"><link rel="prefetch" href="/study-note/assets/1.html-7a7763d6.js" as="script"><link rel="prefetch" href="/study-note/assets/2.html-a82d6653.js" as="script"><link rel="prefetch" href="/study-note/assets/3.html-301cdaac.js" as="script"><link rel="prefetch" href="/study-note/assets/4.html-d101aa49.js" as="script"><link rel="prefetch" href="/study-note/assets/5.html-ec3688ff.js" as="script"><link rel="prefetch" href="/study-note/assets/6.html-5b342d14.js" as="script"><link rel="prefetch" href="/study-note/assets/7.html-91bdf738.js" as="script"><link rel="prefetch" href="/study-note/assets/8.html-5c19e88d.js" as="script"><link rel="prefetch" href="/study-note/assets/9.html-4b40c0e2.js" as="script"><link rel="prefetch" href="/study-note/assets/2.html-e2208213.js" as="script"><link rel="prefetch" href="/study-note/assets/3.html-09155da5.js" as="script"><link rel="prefetch" href="/study-note/assets/1.html-af1afdc8.js" as="script"><link rel="prefetch" href="/study-note/assets/2.html-bdfc1112.js" as="script"><link rel="prefetch" href="/study-note/assets/1.html-c7f3a057.js" as="script"><link rel="prefetch" href="/study-note/assets/2.html-651552f9.js" as="script"><link rel="prefetch" href="/study-note/assets/1.html-845677f2.js" as="script"><link rel="prefetch" href="/study-note/assets/1.html-c26e4611.js" as="script"><link rel="prefetch" href="/study-note/assets/2.html-ff899107.js" as="script"><link rel="prefetch" href="/study-note/assets/3.html-e55ee432.js" as="script"><link rel="prefetch" href="/study-note/assets/1.html-fbd3b4f1.js" as="script"><link rel="prefetch" href="/study-note/assets/2.html-e737918e.js" as="script"><link rel="prefetch" href="/study-note/assets/3.html-c70466ef.js" as="script"><link rel="prefetch" href="/study-note/assets/4.html-912c2595.js" as="script"><link rel="prefetch" href="/study-note/assets/1.html-595d3d24.js" as="script"><link rel="prefetch" href="/study-note/assets/10.html-18eec566.js" as="script"><link rel="prefetch" href="/study-note/assets/11.html-3912facc.js" as="script"><link rel="prefetch" href="/study-note/assets/12.html-1d9302f1.js" as="script"><link rel="prefetch" href="/study-note/assets/2.html-c8e24b75.js" as="script"><link rel="prefetch" href="/study-note/assets/3.html-bf03b8d4.js" as="script"><link rel="prefetch" href="/study-note/assets/4.html-2c7f682c.js" as="script"><link rel="prefetch" href="/study-note/assets/5.html-58128aed.js" as="script"><link rel="prefetch" href="/study-note/assets/6.html-513cda62.js" as="script"><link rel="prefetch" href="/study-note/assets/7.html-58089053.js" as="script"><link rel="prefetch" href="/study-note/assets/8.html-6faf3ae0.js" as="script"><link rel="prefetch" href="/study-note/assets/9.html-648f4224.js" as="script"><link rel="prefetch" href="/study-note/assets/1.html-d805f625.js" as="script"><link rel="prefetch" href="/study-note/assets/2.html-532423f5.js" as="script"><link rel="prefetch" href="/study-note/assets/3.html-635976b8.js" as="script"><link rel="prefetch" href="/study-note/assets/1.html-2637b466.js" as="script"><link rel="prefetch" href="/study-note/assets/2.html-634f50bc.js" as="script"><link rel="prefetch" href="/study-note/assets/3.html-db95dee8.js" as="script"><link rel="prefetch" href="/study-note/assets/4.html-b80972b1.js" as="script"><link rel="prefetch" href="/study-note/assets/5.html-6bf66e08.js" as="script"><link rel="prefetch" href="/study-note/assets/1.html-68d7e34d.js" as="script"><link rel="prefetch" href="/study-note/assets/2.html-0a1b6433.js" as="script"><link rel="prefetch" href="/study-note/assets/3.html-3f6d4ae5.js" as="script"><link rel="prefetch" href="/study-note/assets/4.html-447d473e.js" as="script"><link rel="prefetch" href="/study-note/assets/5.html-e41ae595.js" as="script"><link rel="prefetch" href="/study-note/assets/6.html-ba6dd59b.js" as="script"><link rel="prefetch" href="/study-note/assets/1.html-e27ce550.js" as="script"><link rel="prefetch" href="/study-note/assets/2.html-f6df59fb.js" as="script"><link rel="prefetch" href="/study-note/assets/404.html-7ec274eb.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-384b3b1b.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-3238d321.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-b4e6eafb.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-c5e43980.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-ed2d131d.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-d25967a1.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-68fb5e3f.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-4ae880eb.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-2c2c8cbb.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-2c64440b.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-b1501c40.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-b71534bf.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-e90dbc44.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-711e4d8a.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-a1a822c8.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-127dda29.js" as="script"><link rel="prefetch" href="/study-note/assets/index.html-732208c4.js" as="script"><link rel="prefetch" href="/study-note/assets/photoswipe.esm-6e6cbe40.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">跳至主要內容</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header class="navbar" id="navbar"><div class="navbar-start"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/study-note/" class="brand"><!----><!----><span class="site-name">学习笔记</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><!----><!--[--><!----><!--]--></div><div class="navbar-end"><!--[--><!----><!--]--><!----><!----><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!----><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside class="sidebar" id="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/study-note/" class="nav-link sidebar-link sidebar-page" aria-label="首页"><!---->首页<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Java</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Juc</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Jvm</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Mybatis</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable active"><!----><span class="title">Mysql</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/study-note/mysql/3.html" class="nav-link sidebar-link sidebar-page" aria-label="/mysql/3"><!---->/mysql/3<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/study-note/mysql/1.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="1. MySQL基础篇"><!---->1. MySQL基础篇<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/study-note/mysql/1.html#_01-mysql" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="01 MySQL"><!---->01 MySQL<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/study-note/mysql/1.html#_1-概念" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（1）概念"><!---->（1）概念<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/study-note/mysql/1.html#_2-操作" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（2）操作"><!---->（2）操作<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/study-note/mysql/1.html#_02-sql" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="02 SQL"><!---->02 SQL<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/study-note/mysql/1.html#_1-通用语法" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（1）通用语法"><!---->（1）通用语法<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/study-note/mysql/1.html#_2-ddl" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（2）DDL"><!---->（2）DDL<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/study-note/mysql/1.html#_3-dml" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（3）DML"><!---->（3）DML<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/study-note/mysql/1.html#_4-dql" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（4）DQL"><!---->（4）DQL<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/study-note/mysql/1.html#_5-dcl" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（5）DCL"><!---->（5）DCL<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/study-note/mysql/1.html#_03-函数" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="03 函数"><!---->03 函数<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/study-note/mysql/1.html#_1-字符串函数" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（1）字符串函数"><!---->（1）字符串函数<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/study-note/mysql/1.html#_2-数值函数" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（2）数值函数"><!---->（2）数值函数<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/study-note/mysql/1.html#_3-日期函数" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（3）日期函数"><!---->（3）日期函数<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/study-note/mysql/1.html#_4-流程函数" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（4）流程函数"><!---->（4）流程函数<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/study-note/mysql/1.html#_04-约束" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="04 约束"><!---->04 约束<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/study-note/mysql/1.html#_1-分类" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（1）分类"><!---->（1）分类<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/study-note/mysql/1.html#_2-外键约束" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（2）外键约束"><!---->（2）外键约束<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/study-note/mysql/1.html#_05-多表查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="05 多表查询"><!---->05 多表查询<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/study-note/mysql/1.html#_1-多表关系" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（1）多表关系"><!---->（1）多表关系<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/study-note/mysql/1.html#_2-连接查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（2）连接查询"><!---->（2）连接查询<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/study-note/mysql/1.html#_2-子查询" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（2）子查询"><!---->（2）子查询<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/study-note/mysql/1.html#_06-事务" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="06 事务"><!---->06 事务<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/study-note/mysql/1.html#_1-事务概念" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（1）事务概念"><!---->（1）事务概念<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/study-note/mysql/1.html#_2-事务操作" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（2）事务操作"><!---->（2）事务操作<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/study-note/mysql/1.html#_3-事物四大特性-acid" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（3）事物四大特性（ACID）"><!---->（3）事物四大特性（ACID）<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/study-note/mysql/1.html#_4-并发事务问题" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（4）并发事务问题"><!---->（4）并发事务问题<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/study-note/mysql/1.html#_5-事务隔离级别" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="（5）事务隔离级别"><!---->（5）事务隔离级别<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/study-note/mysql/2.html" class="nav-link sidebar-link sidebar-page" aria-label="2. MSQL进阶篇"><!---->2. MSQL进阶篇<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">O S</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">Redis</span><span class="arrow end"></span></button><!----></section></li><li><section class="sidebar-group"><button class="sidebar-heading clickable"><!----><span class="title">算法</span><span class="arrow end"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->1. MySQL基础篇</h1><div class="page-info"><!----><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-04-24T14:38:53.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 16 分钟</span><meta property="timeRequired" content="PT16M"></span><!----><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">此页内容<button class="print-button" title="print"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/study-note/mysql/1.html#_01-mysql" class="router-link-active router-link-exact-active toc-link level2">01 MySQL</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/study-note/mysql/1.html#_1-概念" class="router-link-active router-link-exact-active toc-link level3">（1）概念</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/study-note/mysql/1.html#_2-操作" class="router-link-active router-link-exact-active toc-link level3">（2）操作</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/study-note/mysql/1.html#_02-sql" class="router-link-active router-link-exact-active toc-link level2">02 SQL</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/study-note/mysql/1.html#_1-通用语法" class="router-link-active router-link-exact-active toc-link level3">（1）通用语法</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/study-note/mysql/1.html#_2-ddl" class="router-link-active router-link-exact-active toc-link level3">（2）DDL</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/study-note/mysql/1.html#_3-dml" class="router-link-active router-link-exact-active toc-link level3">（3）DML</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/study-note/mysql/1.html#_4-dql" class="router-link-active router-link-exact-active toc-link level3">（4）DQL</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/study-note/mysql/1.html#_5-dcl" class="router-link-active router-link-exact-active toc-link level3">（5）DCL</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/study-note/mysql/1.html#_03-函数" class="router-link-active router-link-exact-active toc-link level2">03 函数</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/study-note/mysql/1.html#_1-字符串函数" class="router-link-active router-link-exact-active toc-link level3">（1）字符串函数</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/study-note/mysql/1.html#_2-数值函数" class="router-link-active router-link-exact-active toc-link level3">（2）数值函数</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/study-note/mysql/1.html#_3-日期函数" class="router-link-active router-link-exact-active toc-link level3">（3）日期函数</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/study-note/mysql/1.html#_4-流程函数" class="router-link-active router-link-exact-active toc-link level3">（4）流程函数</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/study-note/mysql/1.html#_04-约束" class="router-link-active router-link-exact-active toc-link level2">04 约束</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/study-note/mysql/1.html#_1-分类" class="router-link-active router-link-exact-active toc-link level3">（1）分类</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/study-note/mysql/1.html#_2-外键约束" class="router-link-active router-link-exact-active toc-link level3">（2）外键约束</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/study-note/mysql/1.html#_05-多表查询" class="router-link-active router-link-exact-active toc-link level2">05 多表查询</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/study-note/mysql/1.html#_1-多表关系" class="router-link-active router-link-exact-active toc-link level3">（1）多表关系</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/study-note/mysql/1.html#_2-连接查询" class="router-link-active router-link-exact-active toc-link level3">（2）连接查询</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/study-note/mysql/1.html#_2-子查询" class="router-link-active router-link-exact-active toc-link level3">（2）子查询</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/study-note/mysql/1.html#_06-事务" class="router-link-active router-link-exact-active toc-link level2">06 事务</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/study-note/mysql/1.html#_1-事务概念" class="router-link-active router-link-exact-active toc-link level3">（1）事务概念</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/study-note/mysql/1.html#_2-事务操作" class="router-link-active router-link-exact-active toc-link level3">（2）事务操作</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/study-note/mysql/1.html#_3-事物四大特性-acid" class="router-link-active router-link-exact-active toc-link level3">（3）事物四大特性（ACID）</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/study-note/mysql/1.html#_4-并发事务问题" class="router-link-active router-link-exact-active toc-link level3">（4）并发事务问题</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/study-note/mysql/1.html#_5-事务隔离级别" class="router-link-active router-link-exact-active toc-link level3">（5）事务隔离级别</a></li><!----><!--]--></ul><!--]--></ul></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h1 id="_1-mysql基础篇" tabindex="-1"><a class="header-anchor" href="#_1-mysql基础篇" aria-hidden="true">#</a> 1. MySQL基础篇</h1><h2 id="_01-mysql" tabindex="-1"><a class="header-anchor" href="#_01-mysql" aria-hidden="true">#</a> 01 MySQL</h2><h3 id="_1-概念" tabindex="-1"><a class="header-anchor" href="#_1-概念" aria-hidden="true">#</a> （1）概念</h3><ul><li>数据库DB：存储数据的仓库</li><li>数据库管理系统DBMS：操作和管理数据库的软件</li><li>SQL：结构化查询语言，操作关系型数据库的编程语言，定义了一套操作 关系型数据库统一标准</li><li>关系型数据库RDBMS：建立在关系模型基础上，由多张相互连接的二维表组成的数据库。关系模型表明了数据库中所存储的数据之间的联系（一对一、一对多、多对多）</li></ul><h3 id="_2-操作" tabindex="-1"><a class="header-anchor" href="#_2-操作" aria-hidden="true">#</a> （2）操作</h3><p>MYSQL启动和关闭：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>net start mysql80
net stop mysql80
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>MYSQL连接数据库：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token comment">#[ ]可选（默认127.0.0.1:3306），用户名：root，p：用户密码</span>
mysql <span class="token punctuation">[</span>-h IP<span class="token punctuation">]</span> <span class="token punctuation">[</span>-P 端口号<span class="token punctuation">]</span> <span class="token parameter variable">-u</span> root <span class="token parameter variable">-p</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_02-sql" tabindex="-1"><a class="header-anchor" href="#_02-sql" aria-hidden="true">#</a> 02 SQL</h2><table><thead><tr><th style="text-align:center;">分类</th><th style="text-align:center;">说明</th></tr></thead><tbody><tr><td style="text-align:center;">DDL</td><td style="text-align:center;">数据定义语言，定义数据库对象（数据库，表，字段）</td></tr><tr><td style="text-align:center;">DML</td><td style="text-align:center;">数据操作语言，对数据库表中数据进行增删改</td></tr><tr><td style="text-align:center;">DQL</td><td style="text-align:center;">数据查询语言，查询表中记录</td></tr><tr><td style="text-align:center;">DCL</td><td style="text-align:center;">数据控制语言，创建数据库用户、控制数据库访问权限</td></tr></tbody></table><h3 id="_1-通用语法" tabindex="-1"><a class="header-anchor" href="#_1-通用语法" aria-hidden="true">#</a> （1）通用语法</h3><ul><li>SQL语句可以单行或多行书写，以分号结尾</li><li>SQL语句可以使用空格/缩进来增强语句的可读性</li><li>MySQL数据库的SQL语句不区分大小写，关键字建议使用大写</li><li>注释： <ul><li>单行注释：-- 注释内容 或 # 注释内容</li><li>多行注释：/* 注释内容 */</li></ul></li></ul><h3 id="_2-ddl" tabindex="-1"><a class="header-anchor" href="#_2-ddl" aria-hidden="true">#</a> （2）DDL</h3><h4 id="【1】数据库操作" tabindex="-1"><a class="header-anchor" href="#【1】数据库操作" aria-hidden="true">#</a> 【1】数据库操作</h4><ul><li>查询所有数据库</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> <span class="token keyword">DATABASES</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>查询当前数据库</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DATABASE</span><span class="token punctuation">(</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>创建数据库</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># 同一个数据库服务器中，不能创建两个同名数据库，否则报错</span>
<span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> <span class="token punctuation">[</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> <span class="token punctuation">]</span> 数据库名 <span class="token punctuation">[</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span> 字符集 <span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token keyword">COLLATE</span> 排序规则 <span class="token punctuation">]</span> <span class="token punctuation">;</span>
<span class="token comment">#eg1:</span>
<span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> study1<span class="token punctuation">;</span>
<span class="token comment">#eg2: 指定字符集</span>
<span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span>  study <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span> utf8mb4<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>删除数据库</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># 删除不存在的数据库会报错，加if exists先判断是否存再决定是否执行删除</span>
<span class="token keyword">DROP</span> <span class="token keyword">DATABASE</span> <span class="token punctuation">[</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token punctuation">]</span> 数据库名<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>切换数据库</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">USE</span> 数据库名<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="【2】表操作" tabindex="-1"><a class="header-anchor" href="#【2】表操作" aria-hidden="true">#</a> 【2】表操作</h4><h5 id="_1-查询创建" tabindex="-1"><a class="header-anchor" href="#_1-查询创建" aria-hidden="true">#</a> 1）查询创建</h5><ul><li>查询当前数据库所有表</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># 前提：进入某个数据库，use xx;</span>
<span class="token keyword">SHOW</span> <span class="token keyword">TABLES</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>查看指定表结构</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">DESC</span> 表名<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>查询指定表的建表语句</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> <span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> 表名<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>创建表结构</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">[</span><span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span><span class="token punctuation">]</span> 表名<span class="token punctuation">(</span>
		字段<span class="token number">1</span> 字段<span class="token number">1</span>类型 <span class="token punctuation">[</span><span class="token keyword">COMMENT</span> 字段<span class="token number">1</span>注释<span class="token punctuation">]</span><span class="token punctuation">,</span>
   	 	字段<span class="token number">2</span> 字段<span class="token number">2</span>类型 <span class="token punctuation">[</span><span class="token keyword">COMMENT</span> 字段<span class="token number">2</span>注释<span class="token punctuation">]</span><span class="token punctuation">,</span>
    	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    字段n 字段n类型 <span class="token punctuation">[</span><span class="token keyword">COMMENT</span> 字段n注释<span class="token punctuation">]</span>
<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token keyword">COMMENT</span> 表注释<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_2-数据类型" tabindex="-1"><a class="header-anchor" href="#_2-数据类型" aria-hidden="true">#</a> 2）数据类型</h5><ul><li><p>数值类型：TINYINT，INT，FLOAT，DOUBLE，DECIMAL等</p></li><li><p>字符串类型：CHAR，VARCHAR，LONGTEXT,BLOB等</p><ul><li>CHAR与VARCHAR：都需要指定长度，CHAR是定长字符串,效率较高；VARCHAR是变长字符串</li></ul></li><li><p>日期时间类型：DATE，TIME，YEAR，DATETIME，TIMESTAMP</p></li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token operator">NOT</span> <span class="token keyword">EXISTS</span> emp<span class="token punctuation">(</span>
	id <span class="token keyword">INT</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;编号&#39;</span><span class="token punctuation">,</span>
    workno <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;员工工号&#39;</span><span class="token punctuation">,</span>
    name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;员工姓名&#39;</span><span class="token punctuation">,</span>
    gender <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;性别&#39;</span><span class="token punctuation">,</span>
    age <span class="token keyword">TINYINT</span> <span class="token keyword">UNSIGNED</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;年龄&#39;</span><span class="token punctuation">,</span>
    idcard <span class="token keyword">CHAR</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">)</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;身份证&#39;</span><span class="token punctuation">,</span>
    entrydate <span class="token keyword">DATA</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;入职时间&#39;</span>
<span class="token punctuation">)</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;员工表&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_3-修改" tabindex="-1"><a class="header-anchor" href="#_3-修改" aria-hidden="true">#</a> 3）修改</h5><ul><li>添加字段</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">ADD</span> 字段名 类型<span class="token punctuation">(</span>长度<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token keyword">COMMENT</span> 注释<span class="token punctuation">]</span> <span class="token punctuation">[</span>约束<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment"># eg:</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> emp <span class="token keyword">add</span> nickname <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>修改数据类型</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">MODIFY</span> 字段名 新数据类型<span class="token punctuation">(</span>长度<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>修改字段名和数据类型</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 CHANGE 字段名 新字段名 类型<span class="token punctuation">(</span>长度<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token keyword">COMMENT</span> 注释<span class="token punctuation">]</span> <span class="token punctuation">[</span>约束<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment"># eg:</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> emp change nickname username <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token keyword">comment</span> <span class="token string">&#39;昵称&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>删除字段</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">DROP</span> 字段名<span class="token punctuation">;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>修改表名</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">RENAME</span> <span class="token keyword">TO</span> 新表名<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h5 id="_4-删除" tabindex="-1"><a class="header-anchor" href="#_4-删除" aria-hidden="true">#</a> 4）删除</h5><ul><li>删除表</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># 同数据库，删除后表中数据全部删除</span>
<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> 表名<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>清空表</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">TRUNCATE</span> <span class="token keyword">TABLE</span> 表名<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_3-dml" tabindex="-1"><a class="header-anchor" href="#_3-dml" aria-hidden="true">#</a> （3）DML</h3><h4 id="【1】添加数据-insert" tabindex="-1"><a class="header-anchor" href="#【1】添加数据-insert" aria-hidden="true">#</a> 【1】添加数据（INSERT）</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token number">1.</span> 指定添加的字段
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> 表名 <span class="token punctuation">(</span>字段名<span class="token number">1</span><span class="token punctuation">,</span> 字段名<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span>值<span class="token number">1</span><span class="token punctuation">,</span> 值<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">2.</span> 全部字段添加数据
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> 表名 <span class="token keyword">VALUES</span><span class="token punctuation">(</span>值<span class="token number">1</span><span class="token punctuation">,</span> 值<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>:
<span class="token number">3.</span> 批量添加数据
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> 表名 <span class="token punctuation">(</span>字段名<span class="token number">1</span><span class="token punctuation">,</span> 字段名<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token keyword">VALUES</span> <span class="token punctuation">(</span>值<span class="token number">1</span><span class="token punctuation">,</span> 值<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>值<span class="token number">1</span><span class="token punctuation">,</span> 值<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> 表名 <span class="token keyword">VALUES</span> <span class="token punctuation">(</span>值<span class="token number">1</span><span class="token punctuation">,</span> 值<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>值<span class="token number">1</span><span class="token punctuation">,</span> 值<span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># 注意：字段顺序与值一一对应，字符串和日期类型数据包含在&#39;&#39;中，数据大小在字段规定范围</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="【2】修改数据-update" tabindex="-1"><a class="header-anchor" href="#【2】修改数据-update" aria-hidden="true">#</a> 【2】修改数据（UPDATE）</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">UPDATE</span> 表名 <span class="token keyword">SET</span> 字段名<span class="token number">1</span> <span class="token operator">=</span> 值<span class="token number">1</span><span class="token punctuation">,</span> 字段名<span class="token number">2</span> <span class="token operator">=</span> 值<span class="token number">2</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>{ <span class="token keyword">WHERE</span> 条件}<span class="token punctuation">;</span>
<span class="token comment"># eg:</span>
<span class="token keyword">update</span> emp <span class="token keyword">set</span> name <span class="token operator">=</span> <span class="token string">&#39;张三&#39;</span> <span class="token keyword">where</span> id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">update</span> emp <span class="token keyword">set</span> entrydate <span class="token operator">=</span> <span class="token string">&#39;2022-1-1&#39;</span><span class="token punctuation">;</span> <span class="token comment"># 全局配置</span>
<span class="token comment"># 注意：条件可有可无，可无即修改整张表所有数据</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="【3】删除数据-delete" tabindex="-1"><a class="header-anchor" href="#【3】删除数据-delete" aria-hidden="true">#</a> 【3】删除数据（DELETE）</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> 表名 {<span class="token keyword">WHERE</span> 条件}<span class="token punctuation">;</span>
<span class="token comment">/*
注意： 条件可有可无，可无即删除整张表的所有数据
			不能删除某一字段的值，可UPDATE
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-dql" tabindex="-1"><a class="header-anchor" href="#_4-dql" aria-hidden="true">#</a> （4）DQL</h3><h4 id="【1】基本语法" tabindex="-1"><a class="header-anchor" href="#【1】基本语法" aria-hidden="true">#</a> 【1】基本语法</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表
<span class="token keyword">FROM</span> 表名
<span class="token keyword">WHERE</span> 条件列表
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> 分组字段列表
<span class="token keyword">HAVING</span> 分组后条件列表
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> 排序字段列表
<span class="token keyword">LIMIT</span> 分页参数<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="【2】基本查询" tabindex="-1"><a class="header-anchor" href="#【2】基本查询" aria-hidden="true">#</a> 【2】基本查询</h4><ul><li>查询多个字段</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段<span class="token number">1</span><span class="token punctuation">,</span> 字段<span class="token number">2</span><span class="token punctuation">,</span> 字段<span class="token number">3</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">FROM</span> 表名 <span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> 表名 <span class="token punctuation">;</span> <span class="token comment"># 查询所有字段</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>字段设置别名</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段<span class="token number">1</span> <span class="token punctuation">[</span> <span class="token keyword">AS</span> 别名<span class="token number">1</span> <span class="token punctuation">]</span> <span class="token punctuation">,</span> 字段<span class="token number">2</span> <span class="token punctuation">[</span> <span class="token keyword">AS</span> 别名<span class="token number">2</span> <span class="token punctuation">]</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">FROM</span> 表名<span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> 字段<span class="token number">1</span> <span class="token punctuation">[</span> 别名<span class="token number">1</span> <span class="token punctuation">]</span> <span class="token punctuation">,</span> 字段<span class="token number">2</span> <span class="token punctuation">[</span> 别名<span class="token number">2</span> <span class="token punctuation">]</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">FROM</span> 表名<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>去除重复记录</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> 字段列表 <span class="token keyword">FROM</span> 表名<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="【3】条件查询" tabindex="-1"><a class="header-anchor" href="#【3】条件查询" aria-hidden="true">#</a> 【3】条件查询</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span> 表名 <span class="token keyword">WHERE</span> 条件列表 <span class="token punctuation">;</span>
<span class="token comment"># 条件：</span>
<span class="token operator">&gt;</span> 	<span class="token operator">&gt;=</span> 	<span class="token operator">&lt;</span>	 <span class="token operator">&lt;=</span>	 <span class="token operator">=</span>	 <span class="token operator">&lt;&gt;</span><span class="token punctuation">[</span>同<span class="token operator">!=</span><span class="token punctuation">]</span> 
<span class="token operator">BETWEEN</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">AND</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">[</span>含最小最大值<span class="token punctuation">]</span> 
<span class="token operator">IN</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> 
<span class="token operator">LIKE</span> 占位符 <span class="token punctuation">[</span>模糊匹配，_匹配单个字符，<span class="token operator">%</span>匹配任意个字符<span class="token punctuation">]</span>
<span class="token operator">IS</span> <span class="token boolean">NULL</span>  <span class="token operator">IS</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>
<span class="token operator">AND</span><span class="token punctuation">[</span>同<span class="token operator">&amp;&amp;</span><span class="token punctuation">]</span> <span class="token operator">OR</span><span class="token punctuation">[</span>同<span class="token operator">||</span><span class="token punctuation">]</span> <span class="token operator">NOT</span><span class="token punctuation">[</span>同<span class="token operator">!</span><span class="token punctuation">]</span>

<span class="token comment"># eg:</span>
<span class="token comment">#查询姓名为两个字的员工信息 _ %</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> name <span class="token operator">like</span> <span class="token string">&#39;__&#39;</span><span class="token punctuation">;</span>
<span class="token comment">#查询身份证号最后一位是X的员工信息</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> idcard <span class="token operator">like</span> <span class="token string">&#39;%X&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> idcard <span class="token operator">like</span> <span class="token string">&#39;_________________X&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="【4】聚合函数" tabindex="-1"><a class="header-anchor" href="#【4】聚合函数" aria-hidden="true">#</a> 【4】聚合函数</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 聚合函数<span class="token punctuation">(</span>字段名<span class="token punctuation">)</span> <span class="token keyword">FROM</span> 表名<span class="token punctuation">;</span>
<span class="token comment"># 聚合函数（NULL值不参与运算）</span>
count max min avg sum
<span class="token comment"># eg:</span>
<span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span> <span class="token comment">#count(*)，count(1)与count(字段)比较</span>
<span class="token comment"># TODO：聚合函数的值只可与分组字段放在一起查询？</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="【5】分组查询" tabindex="-1"><a class="header-anchor" href="#【5】分组查询" aria-hidden="true">#</a> 【5】分组查询</h4><ul><li>语法</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span> 表名 <span class="token punctuation">[</span> <span class="token keyword">WHERE</span> 条件 <span class="token punctuation">]</span> <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> 分组字段名 <span class="token punctuation">[</span> <span class="token keyword">HAVING</span> 分组后过滤条件 <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment"># eg:</span>
<span class="token comment">#查询年龄小于45的员工 , 并根据工作地址分组 , 获取员工数量大于等于3的工作地</span>
<span class="token keyword">select</span> address<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">as</span> address_account  <span class="token keyword">from</span> emp <span class="token keyword">where</span> age <span class="token operator">&lt;</span> <span class="token number">45</span> <span class="token keyword">group</span> <span class="token keyword">by</span> address <span class="token keyword">having</span> address_account <span class="token operator">&gt;=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token comment">#统计各个工作地址上班的男性及女性员工的数量</span>
<span class="token keyword">select</span> address<span class="token punctuation">,</span> gender<span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token string">&#39;数量&#39;</span> <span class="token keyword">from</span> emp <span class="token keyword">group</span> <span class="token keyword">by</span> address<span class="token punctuation">,</span> gender<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>where与having区别 <ul><li>执行时机：where在分组前过滤，having在分组后过滤</li><li>判断条件：where不能对聚合函数进行判断，having可以</li></ul></li><li>注意事项 <ul><li>分组的查询字段为分组字段与聚合函数，其他字段无意义</li><li>执行顺序：where，group，having</li><li>支持多段分组：<code>group by columnA, columnB</code></li></ul></li></ul><h4 id="【6】排序查询" tabindex="-1"><a class="header-anchor" href="#【6】排序查询" aria-hidden="true">#</a> 【6】排序查询</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span> 表名 <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> 字段<span class="token number">1</span> 排序方式<span class="token number">1</span> <span class="token punctuation">,</span> 字段<span class="token number">2</span> 排序方式<span class="token number">2</span> <span class="token punctuation">;</span>
<span class="token comment"># 排序方式</span>
<span class="token keyword">ASC</span>: 升序（默认，可不写） <span class="token keyword">DESC</span>: 降序
多字段排序，第一个字段值相等才按第二个字段排序
<span class="token comment"># eg:</span>
<span class="token comment">#根据年龄对公司的员工进行升序排序 , 年龄相同 , 再按照入职时间进行降序排序</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">order</span> <span class="token keyword">by</span> age <span class="token keyword">asc</span><span class="token punctuation">,</span> entrydate <span class="token keyword">desc</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="【7】分页查询" tabindex="-1"><a class="header-anchor" href="#【7】分页查询" aria-hidden="true">#</a> 【7】分页查询</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span> 表名 <span class="token keyword">LIMIT</span> 起始索引<span class="token punctuation">,</span> 查询记录数 <span class="token punctuation">;</span>
<span class="token comment">/*
	注意：起始索引 = （查询页码 - 1） * 每页记录数;
			  查询第一页：起始索引可忽略，limit x;
*/</span>
<span class="token comment"># eg:</span>
<span class="token comment"># 查询第一页，每页10条记录</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">limit</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token comment"># 查询第二页，每页10条记录</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">limit</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="【8】执行顺序" tabindex="-1"><a class="header-anchor" href="#【8】执行顺序" aria-hidden="true">#</a> 【8】执行顺序</h4><table><thead><tr><th>编写顺序</th><th>执行顺序</th></tr></thead><tbody><tr><td>SELECT 字段列表<br>FROM 表名<br>WHERE 条件列表<br>GROUP BY 分组字段列表<br>HAVING 分组后条件列表<br>ORDER BY 排序字段列表<br>LIMIT 分页参数;</td><td>FROM 表名<br>WHERE 条件列表<br>GROUP BY 分组字段列表<br>HAVING 分组后条件列表<br>SELECT 字段列表<br>ORDER BY 排序字段列表<br>LIMIT 分页参数</td></tr></tbody></table><h3 id="_5-dcl" tabindex="-1"><a class="header-anchor" href="#_5-dcl" aria-hidden="true">#</a> （5）DCL</h3><h4 id="【1】管理用户" tabindex="-1"><a class="header-anchor" href="#【1】管理用户" aria-hidden="true">#</a> 【1】管理用户</h4><ul><li>查询用户</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> mysql<span class="token punctuation">.</span><span class="token keyword">user</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>创建用户</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">USER</span> <span class="token string">&#39;用户名&#39;</span><span class="token variable">@&#39;主机名&#39;</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">&#39;密码&#39;</span><span class="token punctuation">;</span>
<span class="token comment"># 主机号是代表当前用户访问的主机，</span>
<span class="token comment"># host和user标识唯一用户</span>
<span class="token comment"># 主机名可以使用%通配，可表示通过任一主机使用该用户可访问数据库</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>修改用户</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">USER</span> <span class="token string">&#39;用户名&#39;</span><span class="token variable">@&#39;主机名&#39;</span> IDENTIFIED <span class="token keyword">WITH</span> mysql_native_password <span class="token keyword">BY</span> <span class="token string">&#39;新密码&#39;</span> <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>删除用户</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">USER</span> <span class="token string">&#39;用户名&#39;</span><span class="token variable">@&#39;主机名&#39;</span> <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="【2】权限控制" tabindex="-1"><a class="header-anchor" href="#【2】权限控制" aria-hidden="true">#</a> 【2】权限控制</h4><ul><li><p>权限参数</p><ul><li>ALL SELECT INSERT UPDATE DELETE ALTER DROP CREATE等</li></ul></li><li><p>查询权限</p></li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SHOW</span> GRANTS <span class="token keyword">FOR</span> <span class="token string">&#39;用户名&#39;</span><span class="token variable">@&#39;主机名&#39;</span> <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>授权权限</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">GRANT</span> 权限列表 <span class="token keyword">ON</span> 数据库名<span class="token punctuation">.</span>表名 <span class="token keyword">TO</span> <span class="token string">&#39;用户名&#39;</span><span class="token variable">@&#39;主机名&#39;</span><span class="token punctuation">;</span>
<span class="token comment">/*
	注意：
		多个权限之间，使用逗号分隔；授权时，数据库名和表名可用*进行通配代表所有
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>撤销权限</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">REVOKE</span> 权限列表 <span class="token keyword">ON</span> 数据库名<span class="token punctuation">.</span>表名 <span class="token keyword">FROM</span> <span class="token string">&#39;用户名&#39;</span><span class="token variable">@&#39;主机名&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_03-函数" tabindex="-1"><a class="header-anchor" href="#_03-函数" aria-hidden="true">#</a> 03 函数</h2><h3 id="_1-字符串函数" tabindex="-1"><a class="header-anchor" href="#_1-字符串函数" aria-hidden="true">#</a> （1）字符串函数</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code>CONCAT<span class="token punctuation">(</span>S1<span class="token punctuation">,</span>S2<span class="token punctuation">,</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>Sn<span class="token punctuation">)</span> <span class="token comment">--- 字符串拼接</span>
LOWER<span class="token punctuation">(</span>str<span class="token punctuation">)</span> 	UPPER<span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token comment">---大小写</span>
LPAD<span class="token punctuation">(</span>str<span class="token punctuation">,</span>n<span class="token punctuation">,</span>pad<span class="token punctuation">)</span> RPAD<span class="token punctuation">(</span>str<span class="token punctuation">,</span>n<span class="token punctuation">,</span>pad<span class="token punctuation">)</span><span class="token comment">---左/右填充，用字符串pad对str的左边进行填充，达到n个字符串长度</span>
TRIM<span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token comment">---去掉字符串头部和尾部的空格</span>
SUBSTRING<span class="token punctuation">(</span>str<span class="token punctuation">,</span><span class="token keyword">start</span><span class="token punctuation">,</span>len<span class="token punctuation">)</span> <span class="token comment">---返回从字符串str从start位置起的len个长度的字符串</span>
<span class="token comment"># eg:</span>
<span class="token keyword">update</span> emp <span class="token keyword">set</span> workno <span class="token operator">=</span> lpad<span class="token punctuation">(</span>workno<span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment"># 不足5位数的全部在前面补0</span>
<span class="token keyword">select</span> concat<span class="token punctuation">(</span><span class="token string">&#39;Hello&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39; MySQL&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment"># 拼接</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-数值函数" tabindex="-1"><a class="header-anchor" href="#_2-数值函数" aria-hidden="true">#</a> （2）数值函数</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code>CEIL<span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token comment">---向上取整</span>
FLOOR<span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token comment">---向下取整</span>
<span class="token function">MOD</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token comment">---返回x/y的模</span>
RAND<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">---返回0~1内的随机数</span>
<span class="token function">ROUND</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token comment">---求参数x的四舍五入的值，保留y位小数</span>
<span class="token comment"># eg随机生成6位验证码：</span>
<span class="token keyword">select</span> lpad<span class="token punctuation">(</span><span class="token function">round</span><span class="token punctuation">(</span>rand<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">1000000</span> <span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">&#39;0&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-日期函数" tabindex="-1"><a class="header-anchor" href="#_3-日期函数" aria-hidden="true">#</a> （3）日期函数</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code>CURDATE<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">---当前日期	CURTIME() ---当前时间	NOW()---返回当前日期和时间</span>
<span class="token keyword">YEAR</span><span class="token punctuation">(</span><span class="token keyword">date</span><span class="token punctuation">)</span><span class="token comment">--- 获取指定date的年份	MONTH(date)--- 获取指定date的月份</span>
<span class="token keyword">DAY</span><span class="token punctuation">(</span><span class="token keyword">date</span><span class="token punctuation">)</span><span class="token comment">--- 获取指定date的日期	</span>
DATE_ADD<span class="token punctuation">(</span><span class="token keyword">date</span><span class="token punctuation">,</span> <span class="token keyword">INTERVAL</span> exprtype<span class="token punctuation">)</span><span class="token comment">---一个日期/时间值加上一个时间间隔expr后的时间值</span>
DATEDIFF<span class="token punctuation">(</span>date1<span class="token punctuation">,</span>date2<span class="token punctuation">)</span><span class="token comment">---返回起始时间date1和结束时间date2之间的天数</span>
<span class="token comment"># eg:</span>
<span class="token keyword">select</span> date_add<span class="token punctuation">(</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">INTERVAL</span> <span class="token number">70</span> <span class="token keyword">YEAR</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-流程函数" tabindex="-1"><a class="header-anchor" href="#_4-流程函数" aria-hidden="true">#</a> （4）流程函数</h3><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># 可用于条件筛选</span>
<span class="token keyword">IF</span><span class="token punctuation">(</span><span class="token keyword">value</span> <span class="token punctuation">,</span> t <span class="token punctuation">,</span> f<span class="token punctuation">)</span><span class="token comment">---如果value为true，则返回t，否则返回f</span>
IFNULL<span class="token punctuation">(</span>value1 <span class="token punctuation">,</span> value2<span class="token punctuation">)</span><span class="token comment">---如果value1不为空，返回value1，否则返回value2</span>

<span class="token keyword">CASE</span> <span class="token keyword">WHEN</span> <span class="token punctuation">[</span> val1 <span class="token punctuation">]</span> <span class="token keyword">THEN</span> <span class="token punctuation">[</span>res1<span class="token punctuation">]</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">ELSE</span> <span class="token punctuation">[</span> <span class="token keyword">default</span> <span class="token punctuation">]</span> <span class="token keyword">END</span>
如果val1为<span class="token boolean">true</span>，返回res1，<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> 否则返回<span class="token keyword">default</span>默认值

<span class="token keyword">CASE</span> <span class="token punctuation">[</span> expr <span class="token punctuation">]</span> <span class="token keyword">WHEN</span> <span class="token punctuation">[</span> val1 <span class="token punctuation">]</span> <span class="token keyword">THEN</span><span class="token punctuation">[</span>res1<span class="token punctuation">]</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">ELSE</span> <span class="token punctuation">[</span> <span class="token keyword">default</span> <span class="token punctuation">]</span> <span class="token keyword">END</span>
如果expr的值等于val1，返回res1，<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> 否则返回<span class="token keyword">default</span>默认值

<span class="token comment">#eg:</span>
<span class="token keyword">select</span> 
	name<span class="token punctuation">,</span>
	<span class="token punctuation">(</span> <span class="token keyword">case</span> workaddress
     	<span class="token keyword">when</span> <span class="token string">&#39;北京&#39;</span> <span class="token keyword">then</span> <span class="token string">&#39;一线城市&#39;</span> 
     	<span class="token keyword">when</span> <span class="token string">&#39;上海&#39;</span> <span class="token keyword">then</span> <span class="token string">&#39;一线城市&#39;</span> 
     	<span class="token keyword">else</span><span class="token string">&#39;二线城市&#39;</span> <span class="token keyword">end</span> <span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">&#39;工作地址&#39;</span> 
<span class="token keyword">from</span> emp<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_04-约束" tabindex="-1"><a class="header-anchor" href="#_04-约束" aria-hidden="true">#</a> 04 约束</h2><h3 id="_1-分类" tabindex="-1"><a class="header-anchor" href="#_1-分类" aria-hidden="true">#</a> （1）分类</h3><table><thead><tr><th>约束</th><th>关键字</th></tr></thead><tbody><tr><td>非空约束</td><td>NOT NULL</td></tr><tr><td>唯一约束</td><td>UNIQUE</td></tr><tr><td>主键约束</td><td>PRIMARY KEY</td></tr><tr><td>默认约束</td><td>DEFAULT</td></tr><tr><td>检查约束（保证字段满足某个条件）</td><td>CHECK</td></tr><tr><td>外键约束（用于两表连接，保证两表数据一致，不推荐使用）</td><td>FOREIGN KEY</td></tr></tbody></table><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># 注意：约束是作用于表中字段上的，可以在创建表/修改表的时候添加约束</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> tb_user<span class="token punctuation">(</span>
id <span class="token keyword">int</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;ID唯一标识&#39;</span><span class="token punctuation">,</span>
name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">UNIQUE</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;姓名&#39;</span> <span class="token punctuation">,</span>
age <span class="token keyword">int</span> <span class="token keyword">check</span> <span class="token punctuation">(</span>age <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> age <span class="token operator">&lt;=</span> <span class="token number">120</span><span class="token punctuation">)</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;年龄&#39;</span> <span class="token punctuation">,</span>
<span class="token keyword">status</span> <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&#39;1&#39;</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;状态&#39;</span><span class="token punctuation">,</span>
gender <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">COMMENT</span> <span class="token string">&#39;性别&#39;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-外键约束" tabindex="-1"><a class="header-anchor" href="#_2-外键约束" aria-hidden="true">#</a> （2）外键约束</h3><ul><li>添加外键</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> 表名<span class="token punctuation">(</span>
	字段名 数据类型<span class="token punctuation">,</span>
	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
	<span class="token punctuation">[</span><span class="token keyword">CONSTRAINT</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>外键名称<span class="token punctuation">]</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>外键字段名<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> 主表 <span class="token punctuation">(</span>主表列名<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> 外键名称 <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>外键字段名<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> 主表 <span class="token punctuation">(</span>主表列名<span class="token punctuation">)</span> <span class="token punctuation">;</span>

<span class="token comment">#eg:</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> emp <span class="token keyword">add</span> <span class="token keyword">constraint</span> fk_emp_dept_id <span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>dept_id<span class="token punctuation">)</span> <span class="token keyword">references</span> dept<span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>删除外键</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">DROP</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> 外键名称<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="_05-多表查询" tabindex="-1"><a class="header-anchor" href="#_05-多表查询" aria-hidden="true">#</a> 05 多表查询</h2><h3 id="_1-多表关系" tabindex="-1"><a class="header-anchor" href="#_1-多表关系" aria-hidden="true">#</a> （1）多表关系</h3><ul><li>一对一（如用户和用户详情表）</li><li>一对多（如一个员工是一个部门的，一个部门有多个员工）</li><li>多个多（如一个学生可选多门课，一门课有多个学生选，两表间可创中间表（学生选课表））</li></ul><h3 id="_2-连接查询" tabindex="-1"><a class="header-anchor" href="#_2-连接查询" aria-hidden="true">#</a> （2）连接查询</h3><blockquote><p>例如：select * from emp , dept ;</p><p>emp表中有20条数据，dept中有5条数据，查出结果为100条---笛卡尔积。</p></blockquote><h4 id="【1】内连接" tabindex="-1"><a class="header-anchor" href="#【1】内连接" aria-hidden="true">#</a> 【1】内连接</h4><ul><li>查询A、B两表交集部分数据</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span> 表<span class="token number">1</span> <span class="token punctuation">,</span> 表<span class="token number">2</span> <span class="token keyword">WHERE</span> 条件 <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">;</span>

<span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span> 表<span class="token number">1</span> <span class="token punctuation">[</span> <span class="token keyword">INNER</span> <span class="token punctuation">]</span> <span class="token keyword">JOIN</span> 表<span class="token number">2</span> <span class="token keyword">ON</span> 连接条件 <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">;</span>

<span class="token comment"># eg：</span>
<span class="token keyword">select</span> e<span class="token punctuation">.</span>name<span class="token punctuation">,</span> d<span class="token punctuation">.</span>name <span class="token keyword">from</span> emp e <span class="token keyword">join</span> dept d <span class="token keyword">on</span> e<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> d<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
<span class="token comment">/*
	注意：别名：emp e 或 emp as e，字段必须用e.xx，from在select前执行
	同名属性必须指定表名
*/</span>
<span class="token comment"># 查询所有员工的工资等级</span>
<span class="token keyword">select</span> e<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token punctuation">,</span> s<span class="token punctuation">.</span>grade <span class="token punctuation">,</span> s<span class="token punctuation">.</span>losal<span class="token punctuation">,</span> s<span class="token punctuation">.</span>hisal <span class="token keyword">from</span> emp e <span class="token punctuation">,</span> salgrade s <span class="token keyword">where</span> e<span class="token punctuation">.</span>salary <span class="token operator">&gt;=</span> s<span class="token punctuation">.</span>losal <span class="token operator">and</span> e<span class="token punctuation">.</span>salary <span class="token operator">&lt;=</span> s<span class="token punctuation">.</span>hisal<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="【2】左外连接" tabindex="-1"><a class="header-anchor" href="#【2】左外连接" aria-hidden="true">#</a> 【2】左外连接</h4><ul><li>查询左表的所有数据，当然也包含表1和表2交集部分的数据（左表未匹配数据+内连接数据）</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span> 表<span class="token number">1</span> <span class="token keyword">LEFT</span> <span class="token punctuation">[</span> <span class="token keyword">OUTER</span> <span class="token punctuation">]</span> <span class="token keyword">JOIN</span> 表<span class="token number">2</span> <span class="token keyword">ON</span> 条件 <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">;</span>

<span class="token comment"># eg: 查询拥有员工的部门ID、部门名称（去重）</span>
<span class="token keyword">select</span> <span class="token keyword">distinct</span> d<span class="token punctuation">.</span>id <span class="token punctuation">,</span> d<span class="token punctuation">.</span>name <span class="token keyword">from</span> emp e <span class="token punctuation">,</span> dept d <span class="token keyword">where</span> e<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> d<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="【3】右外连接" tabindex="-1"><a class="header-anchor" href="#【3】右外连接" aria-hidden="true">#</a> 【3】右外连接</h4><ul><li>查询右表的所有数据，当然也包含表1和表2交集部分的数据（右表未匹配数据+内连接数据）</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span> 表<span class="token number">1</span> <span class="token keyword">RIGHT</span> <span class="token punctuation">[</span> <span class="token keyword">OUTER</span> <span class="token punctuation">]</span> <span class="token keyword">JOIN</span> 表<span class="token number">2</span> <span class="token keyword">ON</span> 条件 <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="【4】自连接" tabindex="-1"><a class="header-anchor" href="#【4】自连接" aria-hidden="true">#</a> 【4】自连接</h4><h5 id="_1-自连接查询" tabindex="-1"><a class="header-anchor" href="#_1-自连接查询" aria-hidden="true">#</a> 1）自连接查询</h5><ul><li>自己连自己查询，可内连接、外连接</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表 <span class="token keyword">FROM</span> 表A 别名A <span class="token keyword">JOIN</span> 表A 别名B <span class="token keyword">ON</span> 条件 <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">;</span>
<span class="token comment">#eg:查询员工 及其 所属领导的名字（内连接）</span>
 <span class="token keyword">select</span> a<span class="token punctuation">.</span>name <span class="token punctuation">,</span> b<span class="token punctuation">.</span>name <span class="token keyword">from</span> emp a <span class="token punctuation">,</span> emp b <span class="token keyword">where</span> a<span class="token punctuation">.</span>managerid <span class="token operator">=</span> b<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_2-联合查询" tabindex="-1"><a class="header-anchor" href="#_2-联合查询" aria-hidden="true">#</a> 2）联合查询</h5><ul><li>把多次查询的结果合并起来，形成一个新的查询结果集（联合查询的字段必须一致） <ul><li>union：合并之后的数据去重</li><li>union all：全部的数据直接合并在一起</li></ul></li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 字段列表<span class="token number">1</span> <span class="token keyword">FROM</span> 表A <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">UNION</span> <span class="token punctuation">[</span> <span class="token keyword">ALL</span> <span class="token punctuation">]</span>
<span class="token keyword">SELECT</span> 字段列表<span class="token number">2</span> <span class="token keyword">FROM</span> 表B <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
<span class="token comment"># 字段列表1和字段列表2一致</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-子查询" tabindex="-1"><a class="header-anchor" href="#_2-子查询" aria-hidden="true">#</a> （2）子查询</h3><ul><li><p>嵌套查询，嵌套另一个SQL语句。</p></li><li><p>子查询外部的语句可以是INSERT / UPDATE / DELETE / SELECT 的任何一个。</p></li><li><p>先写嵌套内的SQL，再根据SQL的结果写外部的SQL，分解再组合写。</p></li></ul><h4 id="【1】分类" tabindex="-1"><a class="header-anchor" href="#【1】分类" aria-hidden="true">#</a> 【1】分类</h4><ul><li><p>查询结果</p><ul><li><p>标量子查询（子查询结果为单个值）</p></li><li><p>列子查询(子查询结果为一列)</p></li><li><p>行子查询(子查询结果为一行</p></li><li><p>表子查询(子查询结果为多行多列)</p></li></ul></li><li><p>子查询位置</p><ul><li>WHERE</li><li>FROM</li><li>SELECT</li></ul></li></ul><h4 id="【2】标量子查询" tabindex="-1"><a class="header-anchor" href="#【2】标量子查询" aria-hidden="true">#</a> 【2】标量子查询</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># 嵌套的SQL返回值是单个值 = &lt;&gt; &gt; &gt;= &lt; &lt;= </span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> dept_id <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">select</span> id <span class="token keyword">from</span> dept <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&#39;销售部&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># 查询所有的部门信息, 并统计部门的员工人数</span>
<span class="token keyword">select</span> d<span class="token punctuation">.</span>id<span class="token punctuation">,</span> d<span class="token punctuation">.</span>name <span class="token punctuation">,</span> <span class="token punctuation">(</span> <span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> emp e <span class="token keyword">where</span> e<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> d<span class="token punctuation">.</span>id <span class="token punctuation">)</span> <span class="token string">&#39;人数&#39;</span> <span class="token keyword">from</span> dept d<span class="token punctuation">;</span>
 <span class="token comment"># 查询低于本部门平均工资的员工信息</span>
 <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp e2 <span class="token keyword">where</span> e2<span class="token punctuation">.</span>salary <span class="token operator">&lt;</span> <span class="token punctuation">(</span> 
     <span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>e1<span class="token punctuation">.</span>salary<span class="token punctuation">)</span> <span class="token keyword">from</span> emp e1 <span class="token keyword">where</span> e1<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> e2<span class="token punctuation">.</span>dept_id
 <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="【3】列子查询" tabindex="-1"><a class="header-anchor" href="#【3】列子查询" aria-hidden="true">#</a> 【3】列子查询</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># 返回结果为一列，与IN 、NOT IN 、 ANY （满足一条即可）、SOME（同ANY） 、 ALL（全部满足）使用</span>
<span class="token comment"># eg：</span>
<span class="token comment"># 查询比财务部 所有人工资都高的员工信息</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> salary <span class="token operator">&gt;</span> <span class="token keyword">all</span> <span class="token punctuation">(</span> 
    <span class="token keyword">select</span> salary <span class="token keyword">from</span> emp <span class="token keyword">where</span> dept_id <span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">select</span> id <span class="token keyword">from</span> dept <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&#39;财务部&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment"># 查询比研发部其中任意一人工资高的员工信息</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> salary <span class="token operator">&gt;</span> <span class="token keyword">any</span> <span class="token punctuation">(</span> 
    <span class="token keyword">select</span> salary <span class="token keyword">from</span> emp <span class="token keyword">where</span> dept_id <span class="token operator">=</span><span class="token punctuation">(</span><span class="token keyword">select</span> id <span class="token keyword">from</span> dept <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&#39;研发部&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="【4】行子查询" tabindex="-1"><a class="header-anchor" href="#【4】行子查询" aria-hidden="true">#</a> 【4】行子查询</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># 子查询返回的结果是一行，= 、&lt;&gt; 、IN 、NOT IN</span>
<span class="token comment"># eg:</span>
<span class="token comment">#  查询与 &quot;张三&quot; 的薪资及直属领导相同的员工信息：</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> <span class="token punctuation">(</span>salary<span class="token punctuation">,</span>managerid<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span>
	<span class="token keyword">select</span> salary<span class="token punctuation">,</span> managerid <span class="token keyword">from</span> emp <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&#39;张三&#39;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="【5】表子查询" tabindex="-1"><a class="header-anchor" href="#【5】表子查询" aria-hidden="true">#</a> 【5】表子查询</h4><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># 查询结果为多行多列，IN</span>
<span class="token comment"># 查询与 &quot;张三&quot; , &quot;李四&quot; 的职位和薪资相同的员工信息</span>
seletct <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> <span class="token punctuation">(</span>job<span class="token punctuation">,</span>salary<span class="token punctuation">)</span> <span class="token operator">in</span> <span class="token punctuation">(</span>
    <span class="token keyword">select</span> job<span class="token punctuation">,</span>salary <span class="token keyword">from</span> emp <span class="token keyword">where</span> name <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token string">&#39;张三&#39;</span> <span class="token punctuation">,</span> <span class="token string">&#39;李四&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment"># 查询入职日期是 &quot;2006-01-01&quot; 之后的员工信息 , 及其部门信息</span>
<span class="token comment">/*
	第一步：查询员工信息，select * from emp where  entrydate &gt; &#39;2006-01-01&#39;;
	第二步：查询员工信息与部分信息：select e.*,d.* from emp1 e left join dept d on e.dept_id = d.id ;
	第三步：第二步的emp1即第一步的结果，可结合
*/</span>
<span class="token keyword">select</span> e<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>d<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">from</span> <span class="token punctuation">(</span>
    <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span>  entrydate <span class="token operator">&gt;</span> <span class="token string">&#39;2006-01-01&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">)</span> e <span class="token keyword">left</span> <span class="token keyword">join</span> dept d <span class="token keyword">on</span> e<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> d<span class="token punctuation">.</span>id <span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_06-事务" tabindex="-1"><a class="header-anchor" href="#_06-事务" aria-hidden="true">#</a> 06 事务</h2><h3 id="_1-事务概念" tabindex="-1"><a class="header-anchor" href="#_1-事务概念" aria-hidden="true">#</a> （1）事务概念</h3><ul><li>一组操作的集合，不可分割，要么成功要么失败。（提交与回滚）</li><li>MYSQL默认的事务是自动提交。执行DML语句会隐式提交事务。</li></ul><h3 id="_2-事务操作" tabindex="-1"><a class="header-anchor" href="#_2-事务操作" aria-hidden="true">#</a> （2）事务操作</h3><ul><li>关闭自动事务的方式：</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># 1. 查看设置事务提交方式（默认为1）</span>
<span class="token keyword">SELECT</span> @<span class="token variable">@AUTOCOMMIT</span><span class="token punctuation">;</span>
<span class="token keyword">SET</span> @<span class="token variable">@AUTOCOMMIT</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">#设置手动提交</span>
<span class="token comment"># DML语句只是临时修改表中数据，没有COMMIT就没有提交到数据库。</span>

<span class="token comment"># 2. 提交事务（正常执行）</span>
<span class="token keyword">COMMIT</span><span class="token punctuation">;</span>

<span class="token comment"># 3. 回滚事务（异常执行）</span>
<span class="token keyword">ROLLBACK</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>不关闭自动事务的方式：</li></ul><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># 1. 开启事务 </span>
<span class="token keyword">START</span> <span class="token keyword">TRANSACTION</span> 或 <span class="token keyword">BEGIN</span><span class="token punctuation">;</span>
<span class="token comment"># 2.  提交事务 </span>
<span class="token keyword">COMMIT</span><span class="token punctuation">;</span>
<span class="token comment"># 3.  回滚事务 </span>
<span class="token keyword">ROLLBACK</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-事物四大特性-acid" tabindex="-1"><a class="header-anchor" href="#_3-事物四大特性-acid" aria-hidden="true">#</a> （3）事物四大特性（ACID）</h3><ul><li>原子性：事务是不可分割的最小操作单元，要么全部成功要么全部失败；</li><li>一致性：事务完成时所有数据保持一致状态；（如转账后钱的总额不变）</li><li>隔离性：数据库隔离机制，保证事务在不受外部并发影响的独立环境下运行；</li><li>持久化：数据一旦提交或回滚，对数据库的数据的改变是永久的，持久化到数据库。</li></ul><h3 id="_4-并发事务问题" tabindex="-1"><a class="header-anchor" href="#_4-并发事务问题" aria-hidden="true">#</a> （4）并发事务问题</h3><ul><li>脏读：一个事务读取到另一个事务没提交的数据。</li><li>不可重复读：一个事务中先后读取同一条记录，两次读取的数据不同。 <ul><li>例：t1第一次读取a = 10，t2将a进行改值a=20，然后t1再次读取a，读的是20，两次读取数据不同；</li></ul></li><li>幻读：一个事务按照条件查询数据时，没对应行，但是插入时又发现有这行。</li></ul><h3 id="_5-事务隔离级别" tabindex="-1"><a class="header-anchor" href="#_5-事务隔离级别" aria-hidden="true">#</a> （5）事务隔离级别</h3><table><thead><tr><th style="text-align:center;">事务隔离级别</th><th style="text-align:center;">脏读</th><th style="text-align:center;">不可重复读</th><th style="text-align:center;">幻读</th></tr></thead><tbody><tr><td style="text-align:center;">READ UNCOMMITTED</td><td style="text-align:center;">×</td><td style="text-align:center;">×</td><td style="text-align:center;">×</td></tr><tr><td style="text-align:center;">READ COMMITTED</td><td style="text-align:center;">√</td><td style="text-align:center;">×</td><td style="text-align:center;">×</td></tr><tr><td style="text-align:center;">REPEATABLE</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td><td style="text-align:center;">×</td></tr><tr><td style="text-align:center;">SERIALIZABLE</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td><td style="text-align:center;">√</td></tr></tbody></table><ul><li><p>SERIALIZABLE能解决脏读、不可重复读、幻读的问题，但性能最低，它的执行结果能与t1、t2顺序（串行）执行的结果一致；</p><ul><li>例：事务1开启了可串行化隔离级别，然后开始对表1添加数据，事务2开始对表1插入数据会等到事务1添加结束才执行。</li></ul></li><li><p>默认事务隔离级别：REPEATABLE，可重复读；</p></li><li><p>查看事务隔离级别：</p><ul><li><code>SELECT @@TRANSACTION_ISOLATION;</code></li></ul></li><li><p>设置事务隔离级别 :（当前会话还是全局）</p><ul><li><code>SET [SESSION |GLOBAL] TRANSACTION ISOLATION LEVEL { 事务隔离级别 };</code></li></ul></li><li><p>事务隔离级别越高，数据越安全，但是性能越低。</p></li></ul></div><!----><footer class="page-meta"><!----><div class="meta-item git-info"><div class="update-time"><span class="label">上次编辑于: </span><!----></div><div class="contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: 3225465447@qq.com">jiaxin</span><!--]--><!--]--></div></div></footer><nav class="page-nav"><a href="/study-note/mysql/3.html" class="nav-link prev" aria-label="/mysql/3"><div class="hint"><span class="arrow start"></span>上一页</div><div class="link"><!---->/mysql/3</div></a><a href="/study-note/mysql/2.html" class="nav-link next" aria-label="2. MSQL进阶篇"><div class="hint">下一页<span class="arrow end"></span></div><div class="link">2. MSQL进阶篇<!----></div></a></nav><!----><!----><!--]--></main><!--]--><!----></div><!--]--><!--]--><!----><!--]--></div>
    <script type="module" src="/study-note/assets/app-eaeaeacb.js" defer></script>
  </body>
</html>
